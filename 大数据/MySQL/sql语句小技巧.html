<html>
<head>
  <title>sql语句小技巧</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/603932 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="7876"/>
<h1>sql语句小技巧</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2021/3/14 22:05</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2021/10/10 17:35</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div><span style="font-weight: bold;">1、limit和offset 后面只能跟一个常量, 不能用表达式。</span></div><div>因为limit和offset字段后面只接受正整数（意味着0、负数、小数都不行）或者单一变量（意味着不能用表达式），也就是说想取一条，limit 5-1(或者有一个变量N, limit N-1)、limit 1.1, 这类的写法都是报错的。</div><div>所以如果limit要使用表达式limit N-1, 只能先:</div><div style="margin-left: 40px;"><span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(170, 13, 145); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">declare</span> <span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">m</span> <span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(92, 38, 153); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">INT</span><span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">;</span> <span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(170, 13, 145); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">set</span> <span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">m=N</span><span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(28, 0, 207); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">-1</span><span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">; 再limit m</span></div><div style="margin-left: 40px;">或者 </div><div style="margin-left: 40px;"><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(195, 151, 216); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">set</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;"> N :</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(119, 136, 153); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">=</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;"> N</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(119, 136, 153); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">-</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(181, 206, 168); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">1</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(220, 220, 220); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">; 再 limit N;</span></div><div>注意 <span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(170, 13, 145); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">declare</span> <span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">m</span> <span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(92, 38, 153); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">INT</span><span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">;</span> <span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(170, 13, 145); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">set</span> <span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">m=N</span><span style="box-sizing: border-box; font-size: 14px; -webkit-print-color-adjust: exact; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(28, 0, 207); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 19px;">-1</span><span style="font-size: 14px; letter-spacing: -0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(247, 247, 247); color: rgb(89, 89, 89); font-family: monospace; font-variant-caps: normal; font-variant-ligatures: normal;">;或者</span> <span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(195, 151, 216); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">set</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;"> N :</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(119, 136, 153); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">=</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;"> N</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(119, 136, 153); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">-</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(181, 206, 168); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">1</span><span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre; color: rgb(220, 220, 220); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">;</span><span style="font-size: unset; color: unset; font-family: unset;">这两句变量的定义或计算都要放在函数体开头, return外。要先设置好, 不能直接和查询语句放在一起</span></div><div><span style="font-size: unset;"><br/></span></div><div><span style="font-size: unset;"><br/></span></div><div><span style="font-size: unset;"><span style="font-size: unset; color: unset; font-family: unset; font-weight: bold;">2、delete 语句其实可以使用别名, 也可以像查询语句一样, 查询出来再删除</span></span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">今天碰到一个sql问题，就是在delete中加了别名，导致报错了:&quot;</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 18px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; line-height: 26px;">[Err] 1064 - You have an error in your SQL syntax; ...</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">&quot;</span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        简单说下过程，本来是一个简单的delete语句：</span></div><div style="outline: 0px; position: relative; box-sizing: border-box; white-space: pre-wrap; overflow-x: auto; margin: 0px 0px 24px; padding: 8px; overflow-wrap: break-word; font-size: 14px;"><div style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; padding: 0.5em; font-size: 14px;"><span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: break-word; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">delete</span> <span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: break-word; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table1</span> <span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: break-word; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: break-word; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">status</span><span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">=</span><span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: break-word; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(209, 154, 102); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span><span style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">；</span></div></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        后需要增加关联条件，所以在后边追加了where条件，为了关联写着方便为表添加了别名，变为：</span></div><div style="outline: 0px; position: relative; box-sizing: border-box; white-space: pre-wrap; overflow-x: auto; margin: 0px 0px 24px; padding: 8px; overflow-wrap: break-word; font-size: 14px;"><div style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; padding: 0.5em; font-size: 14px;"><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">1</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">delete</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table1 a</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">a.status=</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(209, 154, 102); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div></div><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">and</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">EXISTS</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">(</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">select</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">b.id</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table2 b</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">b.fid=a.id)</span></div></div></div></div></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        就是这样报错了，提示语法错误，觉得挺纳闷，将delete 换成 select * （通常为了省事，验证sql的时候换成select），没有问题，执行正确。</span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        百度很多说“mysql delete 不能使用别名”的，去掉别名后果然正常：</span></div><div style="outline: 0px; position: relative; box-sizing: border-box; white-space: pre-wrap; overflow-x: auto; margin: 0px 0px 24px; padding: 8px; overflow-wrap: break-word; font-size: 14px;"><div style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; padding: 0.5em; font-size: 14px;"><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">1</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">delete</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table1</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">status</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">=</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(209, 154, 102); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div></div><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">and</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">EXISTS</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">(</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">select</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">id</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table2</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table2.fid=table1.id)</span></div></div></div></div></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        虽然问题解决了，但是更纳闷了，delete不能用别名？！，当然不是，是我用错了！</span></div><div style="outline: 0px; position: relative; box-sizing: border-box; white-space: pre-wrap; overflow-x: auto; margin: 0px 0px 24px; padding: 8px; overflow-wrap: break-word; font-size: 14px;"><div style="outline: 0px; box-sizing: border-box; white-space: pre; tab-size: 4; background: rgb(40, 44, 52); overflow-wrap: normal; border-radius: 4px; overflow-x: auto; padding: 0.5em; font-size: 14px;"><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">1</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">delete</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">a</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table1 a</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">a.status=</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(209, 154, 102); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div></div><div style="outline: 0px; margin: 0px; padding: 0px; list-style: none; overflow-wrap: break-word; box-sizing: border-box; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px; width: 24px; border-right: 1px solid rgb(197, 197, 197);"><div style="outline: 0px; margin: 0px; padding: 0px 8px 0px 0px; text-align: right; box-sizing: border-box; font-size: 14px; overflow-wrap: normal;"><span style="outline: 0px; box-sizing: border-box; font-size: 14px; overflow-wrap: normal; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">2</span></div></div><div style="outline: 0px; margin: 0px 0px 0px 8px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; float: left; height: 22px;"><div style="outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">and</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">EXISTS</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">(</span><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">select</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">b.id</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">from</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">table2 b</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(198, 120, 221); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">where</span> <span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(171, 178, 191); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">b.fid=a.id)</span></div></div></div></div></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">        如上，delete使用别名的时候，要在delete和from间加上删除表的别名，这样才是正确的写法。</span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">       </span> <a href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; cursor: pointer; color: rgb(78, 161, 219); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">DELETE的语法详见</a><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">（这是MySQL的要求，在oracle上没有）</span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 0, 0); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; line-height: 26px;">另外关于像查询的sql语句格式一样删除记录, 见LeetCode的例题 (需要注意的是delete做连接表的多表查询来删除时, 不能用join关键字了, 只能用笛卡尔积)</span></span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box; font-size: 16px;"><span style="font-size: 12pt;"><a href="https://leetcode-cn.com/problems/delete-duplicate-emails/solution/shan-chu-zhong-fu-de-dian-zi-you-xiang-by-leetcode/" style="font-size: 12pt;">https://leetcode-cn.com/problems/delete-duplicate-emails/solution/shan-chu-zhong-fu-de-dian-zi-you-xiang-by-leetcode/</a></span></div><div><br/></div><div><span style="font-weight: bold;">3、</span><span style="font-size: 28px;"><span style="font-size: 28px; color: rgb(34, 34, 38); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: common-ligatures; font-weight: bold;">SQL各关键字执行顺序（MySQL）</span></span></div><div>(1)from</div><div>(3) join</div><div>(2) on</div><div>(4) where</div><div>(5)group by(<span style="color: rgb(166, 0, 196);">group by开始可以使用select中的别名,后面这些关键字的语句中都可以使用select中的别名了</span>)</div><div>(6) avg,sum…</div><div>(7)having</div><div>(8) select</div><div>(9) distinct</div><div><br/></div><div>(10) order by</div><div>(11) limit</div><div><br/></div><div><span style="color: rgb(255, 0, 0);">另一种说法:</span></div><div><br/></div><div style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; margin: 0px 0px 16px; padding: 0px; font-size: 16px; overflow-wrap: break-word; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 16px; overflow-wrap: break-word; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: common-ligatures; font-weight: bold; line-height: 26px;">一共有十一个步骤，最先执行的是FROM操作，最后执行的是LIMIT操作。每个操作都会产生一个虚拟表，该虚拟表作为一个处理的输入，看下执行顺序：</span></div><p style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; margin: 0px 0px 16px; padding: 0px; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow: auto hidden; overflow-wrap: break-word; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div>(1) FROM:对FROM子句中的左表<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;left_table&gt;</span>和右表<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;right_table&gt;</span>执行笛卡儿积，产生虚拟表VT1;</div><div>(2) ON: 对虚拟表VT1进行ON筛选，只有那些符合<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;join_condition&gt;</span>的行才被插入虚拟表VT2;</div><div>(3) JOIN: 如果指定了<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">OUTER JOIN</span>(如LEFT OUTER JOIN、RIGHT OUTER JOIN)，那么保留表中未匹配的行作为外部行添加到虚拟表VT2，产生虚拟表VT3。如果FROM子句包含两个以上的表，则对上一个连接生成的结果表VT3和下一个表重复执行步骤1~步骤3，直到处理完所有的表;</div><div>(4) WHERE: 对虚拟表VT3应用WHERE过滤条件，只有符合<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;where_condition&gt;</span>的记录才会被插入虚拟表VT4;</div><div>(5) GROUP By: 根据GROUP BY子句中的列，对VT4中的记录进行分组操作，产生VT5;</div><div>(6) CUBE|ROllUP: 对VT5进行CUBE或ROLLUP操作，产生表VT6;</div><div>(7) HAVING: 对虚拟表VT6应用HAVING过滤器，只有符合<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;having_condition&gt;</span>的记录才会被插入到VT7;</div><div>(8) SELECT: 第二次执行SELECT操作，选择指定的列，插入到虚拟表VT8中;</div><div>(9) DISTINCT: 去除重复，产生虚拟表VT9;</div><div>(10) ORDER BY: 将虚拟表VT9中的记录按照<span style="box-sizing: border-box; outline: 0px; --tw-shadow: 0 0 #0000; --tw-ring-inset: var(--tw-empty, ); --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(66, 153, 225, 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; font-size: 14px; background-color: rgb(249, 242, 244); border-radius: 2px; overflow-wrap: break-word; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; line-height: 22px;">&lt;order_by_list&gt;</span>进行排序操作，产生虚拟表VT10;</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">(11) LIMIT: 取出指定街行的记录，产生虚拟表VT11，并返回给查询用户</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">4、where子句后无法使用select子句定义的别名。(注意观察上面的sql各关键字的执行顺序)</span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">当select的表达式很长时，我们经常会用as子句为该表达式指定别名，然而却发现无法在Where条件中直接使用该别名作为判断条件. </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">例如下面的SQL语句: </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">select id, (c1 + c2) as s from t1 where s &gt; 100 </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">运行会报错: “列名 s 无效” </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">当然,写成 </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">select id, (c1 + c2) as s from t1 where (c1 + c2) &gt; 100 </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal;">就可以。</span></div><div><br/></div><div><br/></div><div><br/></div><div>5、<span style="font-size: 12pt; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: bold;">MySQL中group by 与 order by 一起使用排序问题</span></div><div style="min-width: 100%; position: relative;"><div style="box-sizing: border-box; text-size-adjust: 100%; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><div style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; background-color: rgb(249, 249, 249);"><div style="box-sizing: content-box; justify-content: center;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; background-color: rgb(255, 255, 255); border-radius: 4px;"><div style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;"><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; box-sizing: border-box; word-break: break-word; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">假设有一个表：reward（奖励表），表结构如下：</span></div><div style="font-size: 16px; box-sizing: border-box; position: relative; overflow: hidden;"><div style="box-sizing: border-box; text-align: left; word-spacing: normal; tab-size: 4; hyphens: none; margin: 0px 0px 20px; overflow-y: auto; overflow-x: scroll; overscroll-behavior-x: contain; border-radius: 4px; z-index: 0; font-size: 12px; overflow-wrap: normal; word-break: break-all; white-space: pre; padding: 1em 1em 1em 3.8em; position: relative; background: rgb(45, 45, 45);"><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">CREATE</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">TABLE</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">test</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">.</span><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">reward</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">id</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">int</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">11</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NOT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NULL</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">AUTO_INCREMENT</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">uid</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">int</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">11</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NOT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NULL</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">COMMENT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(126, 198, 153); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">'用户uid'</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">money</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">decimal</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">10</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">2</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NOT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NULL</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">COMMENT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(126, 198, 153); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">'奖励金额'</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">datatime datetime</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NOT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">NULL</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">COMMENT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(126, 198, 153); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">'时间'</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">PRIMARY</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">KEY</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">id</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span></div><div><span style="box-sizing: border-box; border: none; background: none transparent; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; font-size: 1em; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">ENGINE</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(103, 205, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">=</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">INNODB</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">AUTO_INCREMENT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(103, 205, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">=</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">1</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">CHARACTER</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">SET</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">utf8</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">COLLATE</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">utf8_general_ci</span></div><div><span style="box-sizing: border-box; font-size: 12px; color: rgb(248, 197, 85); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">COMMENT</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(103, 205, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">=</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(126, 198, 153); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">'奖励表'</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">;</span></div></div></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; box-sizing: border-box; word-break: break-word; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">表中数据如下：</span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; color: rgb(64, 64, 64);"><img src="sql语句小技巧_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg"/></span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">现在需要查询每个人领取的最高奖励并且从大到小排序：</span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><div><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">如果直接查询：</span></div><div><span style="font-size: 12px; background-color: rgb(242, 242, 242); box-sizing: border-box; border: none; vertical-align: middle; white-space: pre-wrap; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">SELECT id, uid, money, datatime FROM reward GROUP BY uid ORDER BY money DESC;</span></div><div><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">得到如下结果：</span></div><div><span style="font-size: 16px; color: rgb(64, 64, 64);"><img src="sql语句小技巧_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg"/></span></div></div><div style="box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="box-sizing: border-box; word-break: break-word; font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">没有得到我们需要的结果，</span></div><div style="box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="box-sizing: border-box; word-break: break-word; background-color: rgb(242, 242, 242); border: none; vertical-align: middle; white-space: pre-wrap; font-size: 12pt; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; font-weight: bold; line-height: 1.8;">这是因为group by 和 order by 一起使用时，会先使用group by 分组，</span><span style="box-sizing: border-box; word-break: break-word; background-color: rgb(242, 242, 242); border: none; vertical-align: middle; white-space: pre-wrap; font-size: 12pt; color: rgb(255, 0, 0); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; font-weight: bold; line-height: 1.8;">并取出分组后的第一条数据</span><span style="box-sizing: border-box; word-break: break-word; background-color: rgb(242, 242, 242); border: none; vertical-align: middle; white-space: pre-wrap; font-size: 12pt; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; font-weight: bold; line-height: 1.8;">，所以后面的order by 排序只是根据取出来的第一条数据来排序的，但是第一条数据不一定是分组里面的最大数据。</span></div><div style="box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="box-sizing: border-box; word-break: break-word; background-color: rgb(242, 242, 242); border: none; vertical-align: middle; white-space: pre-wrap; font-size: 12pt; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; font-weight: bold; line-height: 1.8;">所以group by 和order by 一起使用并不是先分组, 然后再组内排序!!!</span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><div><span style="font-size: 16px; color: rgb(166, 0, 196); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">解决方法一：</span></div><div><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">既然这样我们可以先排序，再分组，使用子查询。</span></div></div><div style="font-size: 16px; box-sizing: border-box; position: relative; overflow: hidden;"><div style="box-sizing: border-box; text-align: left; word-spacing: normal; tab-size: 4; hyphens: none; margin: 0px 0px 20px; overflow-y: auto; overflow-x: scroll; overscroll-behavior-x: contain; border-radius: 4px; z-index: 0; font-size: 12px; overflow-wrap: normal; word-break: break-all; white-space: pre; padding: 1em 1em 1em 3.8em; position: relative; background: rgb(45, 45, 45);"><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">SELECT</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">r.id</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">r.uid</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">r.money</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">r.datatime</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">FROM</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">SELECT</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">id</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">uid</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">money</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">datatime</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">FROM reward</span></div><div style="margin-left: 40px;"><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">ORDER BY money DESC</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">r</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">GROUP BY r.uid</span></div><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">ORDER BY r.money DESC</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">;</span></div></div></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><div><span style="font-size: 16px; color: rgb(166, 0, 196); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">方法二：</span></div><div><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">    如果不需要取得整条记录，则可以使用</span> <span style="font-size: 12px; background-color: rgb(242, 242, 242); box-sizing: border-box; border: none; vertical-align: middle; white-space: pre-wrap; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">max() min()</span><span style="font-size: 16px;"> 可以得到正确结果。</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>select uid , max(money) </div><div>from reward </div><div>GROUP BY uid</div><div>order by money desc;</div></div><div><br/></div><div><span style="font-size: 16px;"><img src="sql语句小技巧_files/Image [2].jpg" type="image/jpeg" data-filename="Image.jpg"/></span></div><div><span style="font-size: 16px; color: unset; font-family: unset;">但是</span><span style="font-size: 16px; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant-numeric: tabular-nums; line-height: 1.8;">如果取了整条记录并且用了max()或min(), 那么就会数据错乱了, 如下: </span></div></div><div style="font-size: 16px; box-sizing: border-box; position: relative; overflow: hidden;"><div style="box-sizing: border-box; text-align: left; word-spacing: normal; tab-size: 4; hyphens: none; margin: 0px 0px 20px; overflow-y: auto; overflow-x: scroll; overscroll-behavior-x: contain; border-radius: 4px; z-index: 0; font-size: 12px; overflow-wrap: normal; word-break: break-all; white-space: pre; padding: 1em 1em 1em 3.8em; position: relative; background: rgb(45, 45, 45);"><div><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">SELECT id</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">uid</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">money</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">datatime</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">,</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">MAX</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">money</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">FROM reward GROUP BY uid ORDER BY</span> <span style="box-sizing: border-box; font-size: 12px; color: rgb(240, 141, 73); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">MAX</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">(</span><span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">money</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">)</span> <span style="font-size: 1em; background: none transparent; box-sizing: border-box; border: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; tab-size: 4; hyphens: none; position: relative; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">DESC</span><span style="box-sizing: border-box; font-size: 12px; color: rgb(204, 204, 204); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.5;">;</span></div></div></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; box-sizing: border-box; word-break: break-word; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">得到结果：</span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; color: rgb(64, 64, 64);"><img src="sql语句小技巧_files/Image [3].jpg" type="image/jpeg" data-filename="Image.jpg"/></span></div><div style="font-size: 0px; box-sizing: border-box; width: 100%; margin: 0px; padding-bottom: 25px; text-align: center;"><div style="box-sizing:border-box;position:relative;z-index:95;background-color:transparent;transition:background-color 0.1s linear 0s;margin:0px auto;max-width:454px;max-height:126px;"><div style="box-sizing: border-box; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: hidden;"><span style="font-size: 0px;"><img src="sql语句小技巧_files/3065831-3ec3c23fe7d5a356.png" type="image/png" data-filename="3065831-3ec3c23fe7d5a356.png" style="box-sizing:border-box;width:auto;height:auto;border:0px;vertical-align:middle;max-width:100%;transition:all 0.15s linear 0s;z-index:95;opacity:1;cursor:zoom-in;" width="454"/></span></div></div></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; box-sizing: border-box; word-break: break-word; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">你会发现，使用max()取得的记录，money字段和max(money)字段不一致，</span><span style="font-size: 12px; box-sizing: border-box; word-break: break-word; background-color: rgb(242, 242, 242); border: none; vertical-align: middle; white-space: pre-wrap; color: rgb(199, 37, 78); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">这是因为这里只是取出了该uid的最大值，但是该最大值对应的整条记录没有取出来。</span></div><div style="font-size: 16px; box-sizing: border-box; margin-top: 0px; word-break: break-word; margin-bottom: 20px;"><span style="font-size: 16px; box-sizing: border-box; word-break: break-word; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-feature-settings: 'tnum' 1; font-variant: tabular-nums; line-height: 1.8;">所以上面这种写法是错误的,  如果需要取得整条记录，则不能使用这种方法，可以使用子查询 in。如:</span></div></div></div></div></div></div></div></div></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>SELECT id, uid, money, datatime </div><div>FROM reward </div><div>where (uid, money) in</div><div>     (select uid , max(money) from reward GROUP BY uid)</div><div>order by money desc;</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">6、select &quot;字符串&quot; 和 select 聚合函数 是不一样的。</span></div><div>select &quot;字符串&quot;是给虚表添加一列属性, 这一列属性值全是同一个&quot;字符串&quot;。</div><div>而 select 聚合函数虽然也增加了一列, 但是这一列, 一组只会有一行,  而select返回的时候, 是按行数少的那个属性,来决定返回哪一行的。</div><div style="margin-left: 40px;"> 如有下表:</div><div><span style="font-size: unset; color: unset; font-family: unset;">       </span><img src="sql语句小技巧_files/Image.png" type="image/png" data-filename="Image.png" style="color: unset; font-family: unset; font-size: unset;"/></div><div>        sql语句:</div><div style="background-color: rgb(255, 255, 255); font-size: 18px; white-space: pre; margin-left: 40px;"><span style="font-size: 18px; color: rgb(0, 0, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">select</span><span style="font-size: 18px; color: rgb(0, 0, 0); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;"> Id, Email,</span><span style="font-size: 18px; color: rgb(163, 21, 21); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">&quot;aa&quot;</span></div><div style="margin-left: 40px;"><span style="background-color: rgb(255, 255, 255); font-size: 18px;"><span style="background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(0, 0, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">from</span><span style="background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(0, 0, 0); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;"> Person</span></span></div><div style="margin-left: 40px;">返回:</div><div style="margin-left: 40px;"><img src="sql语句小技巧_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div style="margin-left: 40px;">而语句:</div><div style="background-color: rgb(255, 255, 255); font-size: 18px; white-space: pre; margin-left: 40px;"><span style="font-size: 18px; color: rgb(0, 0, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">select</span><span style="font-size: 18px; color: rgb(0, 0, 0); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;"> Id, Email,</span><span style="font-size: 18px; color: rgb(121, 94, 38); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">sum</span><span style="font-size: 18px; color: rgb(0, 0, 0); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">(Id)</span></div><div style="background-color: rgb(255, 255, 255); font-size: 18px; white-space: pre; margin-left: 40px;"><span style="font-size: 18px; color: rgb(0, 0, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;">from</span><span style="font-size: 18px; color: rgb(0, 0, 0); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 24px;"> Person</span></div><div>        返回:</div><div>        <img src="sql语句小技巧_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div>        </div><div><span style="font-weight: bold;">7、窗口函数</span></div><div><span style="font-weight: bold; color: rgb(166, 0, 196);">关于时间计算的函数：</span></div><div style="margin-left: 40px;">(1)datediff(日期1, 日期2)：</div><div style="margin-left: 40px;">得到的结果是日期1与日期2相差的天数。</div><div style="margin-left: 40px;">如果日期1比日期2大，结果为正；如果日期1比日期2小，结果为负。</div><div style="margin-left: 40px;">例如：日期1（2019-01-02），日期2（2019-01-01），两个日期在函数里互换位置，就是下面的结果</div><div>    <img src="sql语句小技巧_files/Image [3].png" type="image/png" data-filename="Image.png" width="623"/></div><div><br/></div><div><br/></div><div style="margin-left: 40px;">(2)timestampdiff(时间类型, 日期1, 日期2)</div><div style="margin-left: 40px;">这个函数和上面diffdate的正、负号规则刚好相反。</div><div style="margin-left: 40px;">日期1大于日期2，结果为负，日期1小于日期2，结果为正。</div><div style="margin-left: 40px;">在“时间类型”的参数位置，通过添加“day”, “hour”, “second”等关键词，来规定计算天数差、小时数差、还是分钟数差。示例如下图：</div><div>    <img src="sql语句小技巧_files/Image [4].png" type="image/png" data-filename="Image.png" width="615"/></div><div><b><font style="color: rgb(166, 0, 196);">关于浮点型计算:</font></b></div><div style="margin-left: 40px;">(1)round</div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><b>8、case when</b></div><div>sql中的case when 就类似于java中的switch。其中case等价于java中的switch, when等价于java中的case。</div><div>case when的 完整用法: </div><div style="margin-left: 40px;">case 表的某字段名</div><div style="margin-left: 40px;">when 某个字段值 then 这种情况下你想要返回的值</div><div style="margin-left: 40px;">when 某个字段值 then 这种情况下你想要返回的值</div><div style="margin-left: 40px;">.......</div><div style="margin-left: 40px;">else 这种情况下你想要返回的值</div><div style="margin-left: 40px;">end</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 