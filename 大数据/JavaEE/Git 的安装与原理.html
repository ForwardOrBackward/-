<html>
<head>
  <title>Git 的安装与原理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/603932 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="7190"/>
<h1>Git 的安装与原理</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2020/9/22 14:24</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2021/8/10 21:25</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>1、什么是git</div><div>   git是一个开源分布式版本控制系统。</div><div>   由c语言编写,由linus开发。</div><div>2. git历史</div><div>   linus以前开发了linux内核 --&gt; 由全世界各地维护</div><div>   --&gt;  最开始是通过邮件进行代码整合  --&gt;linus用 diff进行手动合并</div><div>     --&gt; 以前有一个cvs(集中式版本控制工具)</div><div>     --&gt;出现了 svn(集中式版本控制工具,免费,apache开源项目,全名叫Subversion),是对cvs的优化</div><div>       --&gt; bitkeeper(收费), 但免费授权给linus使用</div><div>   --&gt; 维护Linux内核的人破解bitkeeper收费协议被发现,要求linus道歉。</div><div>   --&gt; linus不道歉, 并自己用c语言2周时间开发出git,1个月所有代码在git运行</div><div>3.集中式和分布式的版本控制工具:</div><div>  集中式(集中式是有中心(服务端)的): cvs , svn, vss</div><div>  分布式(每个节点都是独立个体,都可以不依赖别人独立运行的,有本地仓库,只有代码交换时才借助公共服务器): git</div><div>        github、gitlab、码云都是基于git的</div><div><br/></div><div>    集中式拿svn举例: </div><div style="margin-left: 40px;">    svn客户端每次写代码前, 要从svn服务器检出(checkout),简单来说就是把项目的代码下载下来,然后再开始将自己的代码写进项目, 写好之后, 不是直接将代码提交(commit)到svn服务器, 而是先从svn服务器再次下载代码以更新(update)自己本地的代码, 这是为了防止在你写代码的这段时间有人提交了新代码到svn服务器,而如果你直接再提交,如果svn服务器允许(实际上不会允许), 则会把别人新写的代码又变成原来的代码,这显然是不行的。</div><div style="margin-left: 40px;">    svn通过版本号来控制更新: 如客户端zs首次checkout时项目版本号为0,客户端ls首次checkout时项目版本号也为0, 则zs写完代码再次update代码时(没有人commit过),版本还是0,则zs 开始commit,commit完svn服务器该项目的版本就变为1了,此时ls写完代码,update, 发现版本变为了1, 再commit,则版本变为了2(就算ls在zs前update下来的版本还是0, 如果ls比zs后提交到服务器, 那么服务器也会提示ls提交失败(因为版本冲突了), 此时ls还是要再update一次,然后再commit。</div><div style="margin-left: 40px;">    svn最大的问题在于如果svn服务器宕机了, 那么整个项目组就无法正常工作了(代码是不会丢失的,因为本地还有最起码一个人保存着当前项目的所有最新的代码), 因为无法正常进行项目的代码整合了。</div><div>            <img src="Git 的安装与原理_files/Image.png" type="image/png" data-filename="Image.png" width="714"/></div><div>        分布式git举例:</div><div style="margin-left: 40px;">git的区别于svn的特点在于git在每个客户端都有一个本地仓库,本地仓库保存了自己的代码, 每一个客户端都是一个独立的单元, 而公共服务器则是只是用来交换代码的(客户端上传到服务器是push,客户端从服务端下载是pull),所以Git的客户端并不依赖于公共的服务器。如果某客户端的本地仓库没有任何东西,也可以通过克隆(git clone)将公共服务器的仓库克隆一份到自己的客户端。</div><div>        <img src="Git 的安装与原理_files/Image [1].png" type="image/png" data-filename="Image.png" width="689"/></div><div>    <img src="Git 的安装与原理_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div>                        <img src="Git 的安装与原理_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>4.Git的好处</div><div>  1.分布式协同开发,无中心仓库(因为工作不是围绕公共服务器来做的, 而是每个个体独立工作)</div><div>  2.实现代码备份(远程备份、灾备)</div><div>  3.实现权限管理(有些核心代码不是所有人都可以看到的, 是有权限限制的)</div><div>  4.实现追责处理(谁提交的一清二楚, 出现问题好追责)</div><div>  5.实现代码历史版本查看(支持版本回退)</div><div>  6.协同github等公共服务器来进行开发</div><div>  7.支持分支开发(分支开发的含义见如下) </div><div style="margin-left: 40px;">    版本迭代开发就像是一颗树, 所有上线过的版本所连成的线就叫做树的主干(master),主干上的内容一定要非常稳定的,但如果此时要添加新功能, 当然不能直接在主干上改(因为不确定新功能是否符合预期等),而是要开一个新分支(branch),分支和主干可以同时进行版本迭代开发,等到觉得分支上的功能差不多了, 就可以合并到主干了。这就是分支开发。如下图:</div><div>                <img src="Git 的安装与原理_files/Image [4].png" type="image/png" data-filename="Image.png" width="208"/></div><div>5.git的下载和安装</div><div>   5.1 下载:</div><div>   <a href="https://git-scm.com/">https://git-scm.com/</a></div><div>   5.2 安装</div><div>    直接双击可执行文件 ,接下来对关键界面做解释(其他界面直接next或者看着办就行,安装目录可以自定义一下):</div><div>    下图的界面中可以保持下面这样:</div><div>    <img src="Git 的安装与原理_files/Image [5].png" type="image/png" data-filename="Image.png" width="505"/></div><div>    下图是选择默认的编辑器(用默认的vim即可):</div><div>    <img src="Git 的安装与原理_files/Image [6].png" type="image/png" data-filename="Image.png" width="520"/></div><div>    下图中我们选择第二个, 这样既添加了环境变量, 也可以直接用cmd调用git。</div><div>    <img src="Git 的安装与原理_files/Image [7].png" type="image/png" data-filename="Image.png" width="502"/></div><div>    上图中的具体解释见如下图:</div><div>    <img src="Git 的安装与原理_files/Image [8].png" type="image/png" data-filename="Image.png" width="495"/></div><div>    下图中选择第一个选项即可,自用的话使用公共证书足矣:</div><div>    <img src="Git 的安装与原理_files/Image [9].png" type="image/png" data-filename="Image.png" width="509"/></div><div>    下图中的选项选择第一个即可,具体的解释见下下图:</div><div>    <img src="Git 的安装与原理_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div>    <img src="Git 的安装与原理_files/Image [11].png" type="image/png" data-filename="Image.png" width="538"/></div><div>    下图中的如果选择第一个则写git命令时是在自己的控制台,选择第二个则git的命令在cmd里面敲,</div><div>        这里我们选择第一个, 因为我们对Linux的命令以及风格更熟一些</div><div>    <img src="Git 的安装与原理_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div>    下图这个界面直接按默认设置就行,再点击Install。</div><div>    <img src="Git 的安装与原理_files/Image [13].png" type="image/png" data-filename="Image.png"/></div><div>    接下来便可安装成功,安装成功后并且鼠标的右键菜单栏会有Git GUI和Git Bash的可选项。(但我们一般用Git Bash而不用Git GUI , 要用图形化界面的话一般会选择用TortoiseGit)。右键菜单栏如下:</div><div>    <img src="Git 的安装与原理_files/Image [14].png" type="image/png" data-filename="Image.png" width="342"/></div><div><br/></div><div><br/></div><div>   5.3 全局配置(即初始化git)</div><div>        (其实就是把用户的名字写上, 让Git知道你是谁, 以后改了项目的代码可以知道是谁改的, 实现追责)</div><div>    鼠标右键(如果想让git打开后的工作目录在指定目录里, 可以在指定目录鼠标右键),选择&quot;Git Bash Here&quot; , 就会出现Linux命令窗口样式的界面,输入以下命令:</div><div>      $ git config --global user.name &quot;ForwardOrBackward&quot;</div><div>      $ git config --global user.email &quot;<a href="mailto:grady_lee@163.com">1170587830@</a>qq.com&quot;</div><div>    效果如下:</div><div>        <img src="Git 的安装与原理_files/Image [15].png" type="image/png" data-filename="Image.png" width="661"/></div><div>    执行完这两行命令后, 接着就会在用户的家目录生成一个.gitconfig文件,如下图:</div><div>        <img src="Git 的安装与原理_files/Image [16].png" type="image/png" data-filename="Image.png" width="748"/></div><div>    文件里的内容如下: (所以也可以不在Git Bash里面写命令, 直接创建一个配置文件把以下内容写进去,也行)   </div><div>        <img src="Git 的安装与原理_files/Image [17].png" type="image/png" data-filename="Image.png"/></div><div>    把这个配置好后, 以后所有的Git操作都会携带这个用户标识, 就知道哪部分代码是由你开发的了 </div><div><br/></div><div><br/></div><div><br/></div><div>   5.4 git的文件添加和提交 (如何把文件交给Git管理)</div><div>    给Git添加和提交的第一件事就是创建本地仓库,提交是先提交到本地仓库</div><div>      git init: 创建本地仓库(本地仓库就是在当前Git Bash所工作的目录下创建一个.git隐藏文件夹)</div><div>        <img src="Git 的安装与原理_files/Image [18].png" type="image/png" data-filename="Image.png" width="810"/></div><div>        此时可以用git status 命令查看一下git的状态</div><div>            <img src="Git 的安装与原理_files/Image [19].png" type="image/png" data-filename="Image.png" width="701"/></div><div>      git add 文件名: 添加文件从工作空间到暂存区(stage/index) (注意并没有直接添加到本地仓库, 而只是在暂存区。暂存区和本地仓库是不同的)</div><div>            此时再用git status 命令查看一下git的状态</div><div>            <img src="Git 的安装与原理_files/Image [20].png" type="image/png" data-filename="Image.png" width="509"/></div><div>      git commit -m &quot;message&quot;:将暂存区里的文件提交到本地仓库 (&quot;message&quot;是指提交时的你写的提示信息,比如更新了啥,相比前一个版本有啥更改之类)</div><div>            git commit以及提交后用git status命令查看状态: (<span style="color: rgb(166, 0, 196);">git status命令用于查看(监听)版本库文件的变化</span>)</div><div>                <img src="Git 的安装与原理_files/Image [21].png" type="image/png" data-filename="Image.png" width="514"/></div><div>            如果只输入git commit会出现如下信息, 提示你提交时要在当前文档里写提交信息(更新了啥,相比前一个版本有啥更改等),写文档的方式和Linux一样。而用git commit -m &quot;message&quot;则是直接把提交信息写在message处, 如果信息较少可以这么做</div><div>                <img src="Git 的安装与原理_files/Image [22].png" type="image/png" data-filename="Image.png" width="559"/></div><div>        用git管理起来后,原文件a.txt的任何变化都可以被git监听到。此时,你在git里面随便修改点内容,都会被git发现。输入git status可以看到如下:(git会提醒你a.txt已更改,并会提示你该更改还没有提交。要提交的话可以按照前面所说的方法, git add file然后git commit -m &quot;message&quot;进行提交。 )</div><div>            <img src="Git 的安装与原理_files/Image [23].png" type="image/png" data-filename="Image.png" width="684"/></div><div>    </div><div><span style="font-weight: bold;">    一些git中的名词的解释: </span></div><div>        注意:  HEAD指针始终指向主干(master)上的最新版本, 所以如果要回退版本的话, 只需要将HEAD指针指向要回退到的版本即可。</div><div>        <img src="Git 的安装与原理_files/Image [24].png" type="image/png" data-filename="Image.png" width="803"/></div><div><br/></div><div><br/></div><div>   5.5 日志查看</div><div>      git log 文件名 :  查看某文件的详细日志</div><div>        <img src="Git 的安装与原理_files/Image [25].png" type="image/png" data-filename="Image.png" width="586"/></div><div>      git log --pretty=<span style="color: rgb(166, 0, 196);">one</span>line 文件名: 查看简要日志</div><div>        <img src="Git 的安装与原理_files/Image [26].png" type="image/png" data-filename="Image.png"/></div><div>      git <span style="color: rgb(166, 0, 196);">ref</span>log 文件名: 查看引用日志(主要就是为了查看各个版本的地址)</div><div>        <img src="Git 的安装与原理_files/Image [27].png" type="image/png" data-filename="Image.png"/></div><div>   5.6  版本回退和回撤 </div><div>(<span style="color: rgb(255, 0, 0);">回退</span>会把<span style="color: rgb(166, 0, 196);">原文件</span>中最新git版本所做的所有更改清除掉,注意只清除原文件中, 最新的版本所做的更改git还是依然记录着的。 <span style="color: rgb(255, 0, 0);">回撤</span>是指对文件作了更改但还没有提交到git时,直接回撤这些更改, 保持上一次刚提交时的样子。</div><div>回退是已经进入到版本库的版本进行回退, 回撤是还没进入版本库的更改进行撤销更改)</div><div>      git reset --hard HEAD:查看最新版本</div><div>        <img src="Git 的安装与原理_files/Image [28].png" type="image/png" data-filename="Image.png"/></div><div>      git reset --hard HEAD^:回退(到前)一个版本</div><div>        <img src="Git 的安装与原理_files/Image [29].png" type="image/png" data-filename="Image.png"/></div><div style="margin-left: 40px;">此时查看a.txt事务简要日志和引用日志就可以发现区别了。从引用日志可以发现虽然指向了new file00,但是git还是记录了file01的内容的。</div><div>        <img src="Git 的安装与原理_files/Image [30].png" type="image/png" data-filename="Image.png"/></div><div>      git reset --hard HEAD~2:回退两个版本</div><div>      git reset --hard 版本地址 : 回退到指定版本(版本的地址)</div><div>        <img src="Git 的安装与原理_files/Image [31].png" type="image/png" data-filename="Image.png"/></div><div>      git checkout -- a.txt:回撤 </div><div><br/></div><div>   5.7 文件删除  (文件删除也要像文件提交一样, 分为两步才能真正删除成功)</div><div>      git rm b.txt   (这不是真正的删除, git还可以监听到, 应该是因为这样删除是从版本库放到了暂存区)</div><div>      git commit -m &quot;massage&quot; (commit过后才是真正删除了。&quot;massage&quot;是写删除时的给出的理由等等)</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>   5.8 分支</div><div>      git branch:展示分支</div><div>      git branch 分支名:创建分支</div><div>            &quot;*&quot;标识我们当前在master分支上,当前在哪个分支上哪个分支就是绿色的</div><div>            <img src="Git 的安装与原理_files/Image [32].png" type="image/png" data-filename="Image.png" width="143"/></div><div>      git checkout 分支名:切换分支</div><div>            <img src="Git 的安装与原理_files/Image [33].png" type="image/png" data-filename="Image.png" width="524"/></div><div style="margin-left: 40px;">切换分支后还是可以读到主干里的内容(其实也就是说, 如果把git的版本库比作一棵树的话,其他分支就是某个主干节点的子树,子树上的节点都可以访问它的父节点,但不能访问它的兄弟节点, 也就是说孩子节点都可以读到它的所有父节点(包括直接父节点和间接父节点)的内容,也即是说这棵树里的节点只支持向上访问而不支持向下访问,可以一直向上访问但不能有向下访问的操作。仔细想想这也确实符合git的设计, 老版本当然不能访问到新版本的东西,否则不就乱了套。即然分支与主干并行开发,那分支也自然只能使用到该分支开辟分支时的主节点及之前的主节点的内容,而不可能访问到主干在该分支之后更新的内容, 如果能访问到, 分支还有什么意义。此时切换回主干,分支里面新修改的内容, 主干也是读不到的 )</div><div style="margin-left: 40px;">    <img src="Git 的安装与原理_files/Image [34].png" type="image/png" data-filename="Image.png"/></div><div>      git merge 分支名 : 合并分支(将分支里的更改合并到主分支里)</div><div>      git branch -d 分支名 : 删除分支</div><div><br/></div><div>      <span style="color: rgb(255, 0, 0);">如果master和分支同时对一个文件进行修改,合并文件时, 就会出现冲突问题:</span></div><div>        举例如下:</div><div>        假设在创建新分支dev前a.txt里面的内容如下:</div><div>        <img src="Git 的安装与原理_files/Image [35].png" type="image/png" data-filename="Image.png"/></div><div>        接着创建了新分支&quot;dev&quot;, 并且在a.txt中添加了一行aaa:</div><div>        <img src="Git 的安装与原理_files/Image [36].png" type="image/png" data-filename="Image.png"/></div><div>        再在主干分支上对a.txt添加一行bbb。(当然主分支是看不到dev分支的aaa那一行的)</div><div>        <img src="Git 的安装与原理_files/Image [37].png" type="image/png" data-filename="Image.png"/></div><div>        如果此时尝试将两者合并,则会出现冲突, git会要求解决了冲突才能进行合并。此时如下图框中的状态也发生了改变。</div><div>        <img src="Git 的安装与原理_files/Image [38].png" type="image/png" data-filename="Image.png" width="726"/></div><div>        此时再看a.txt里面的内容,发现a.txt里面的内容已经变了,意思是aaa和bbb冲突了,bbb是主干上添加的,而aaa是分支dev添加的。</div><div>        <img src="Git 的安装与原理_files/Image [39].png" type="image/png" data-filename="Image.png" width="194"/></div><div>        上图这种时候就需要手工处理一下了,可以把上图中的第四行、第六行、第八行全部删除即可,也就是把主干修改的放在前面,分支修改的放在后面。变成如下图:</div><div>        <img src="Git 的安装与原理_files/Image [40].png" type="image/png" data-filename="Image.png"/></div><div>        此时再把新改好的a.txt用git add 和git commit命令提交到版本库的主干即可。直到提交成功, 状态才变回正常。如果出现冲突后不进行处理,分支和主干都将不能再往文件里加入任何新内容。</div><div>        <img src="Git 的安装与原理_files/Image [41].png" type="image/png" data-filename="Image.png" width="630"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>  8.公共服务器(github)</div><div>    GitHub是一个代码托管平台(代码,笔记)</div><div>    <img src="Git 的安装与原理_files/Image [42].png" type="image/png" data-filename="Image.png" width="728"/></div><div>    使用github:</div><div>        (1)代码托管到GitHub(通过push命令)</div><div>        (2)用GitHub的代码更新本地代码(通过fetch或pull命令,pull等价于fetch+merge)</div><div>        (3)复制别人GitHub上的代码到自己的Github里(通过fork命令)</div><div style="margin-left: 80px;">fork还有一个作用就是可以让别人帮忙改进你的代码。别人fork你的代码并且进行修改后,你可以合并他修改后的代码, 然后再提交,这样就可以合并他的修改, 这也是一种协同开发的方式</div><div>        (4)在Github上合并别人和你对同一个项目的更改(merge)</div><div>        (5)别人的代码,你自己是没有的, 想下载到本地,(通过clone命令进行克隆代码)</div><div style="margin-left: 80px;">clone和 fetch/pull的最大区别就是fetch/pull是有这个项目的本地仓库,是用GitHub中新版本的代码更新本地的代码, 而clone则是没有该项目的本地仓库, 就是把别人的项目整个直接下载到本地而已</div><div style="margin-left: 80px;"></div><div> github的使用流程图: (一个箭头对应一个操作)</div><div>            <img src="Git 的安装与原理_files/Image [43].png" type="image/png" data-filename="Image.png" width="638"/>   、</div><div><br/></div><div>    8.1 本地git连接到GitHub (github连接使用的协议是ssh)。</div><div>      创建ssh key,然后配置github,测试连接</div><div>        (1)创建ssh key(创建方式和Linux里面一样): ssh-keygen -t rsa</div><div>                输完命令后按三次回车。然后生成的秘钥(公钥和私钥)会放在家目录下的.ssh文件夹(~/.ssh)里,如下图</div><div>                <img src="Git 的安装与原理_files/Image [44].png" type="image/png" data-filename="Image.png" width="666"/></div><div>        (2)复制公钥文件里的整个字符串,然后在github的Settings中添加公钥.</div><div>            复制好公钥后,添加公钥到github的步骤:</div><div style="margin-left: 80px;">点击自己的用户头像-&gt;Settings-&gt; 左侧栏&quot;SSH and GPG keys&quot; -&gt;&quot;New SSH key&quot;-&gt;起一个名字、粘贴公钥-&gt;&quot;Add SSH key&quot;。</div><div>                添加时如下图:</div><div>                <img src="Git 的安装与原理_files/Image [45].png" type="image/png" data-filename="Image.png" width="716"/></div><div>                    添加成功后:</div><div>                    <img src="Git 的安装与原理_files/Image [46].png" type="image/png" data-filename="Image.png" width="668"/></div><div>        (3)测试连接。 在本地git使用命令: ssh -T <a href="mailto:git@github.com">git@github.com</a></div><div>            输入命令后再输入yes, 出现下图代表连接成功了:</div><div>            <img src="Git 的安装与原理_files/Image [47].png" type="image/png" data-filename="Image.png" width="729"/></div><div>        </div><div><br/></div><div><br/></div><div>    8.2 将本地版本库push到远程仓库</div><div>     例子:</div><div>     (1)首先在本地新建一个本地仓库: </div><div style="margin-left: 40px;">新建一个文件夹,并在该文件夹里打开git bash,然后输入git init,即在该文件夹里创建了一个本地仓库。同时在该(工作区)文件夹创建一个a.txt文件, 然后提交到本地仓库:</div><div>        <img src="Git 的安装与原理_files/Image [48].png" type="image/png" data-filename="Image.png"/></div><div>        此时的文件目录如下:</div><div>        <img src="Git 的安装与原理_files/Image [49].png" type="image/png" data-filename="Image.png" width="747"/></div><div>      (2)本地操作完之后, 然后在GitHub新建一个远程仓库: </div><div style="margin-left: 40px;">点击个人头像旁边的&quot;+&quot; -&gt; &quot;New repository&quot; -&gt;  填写仓库名(Repository name)以及其他一些可选信息 -&gt; &quot;Create Repository&quot;。</div><div>            <img src="Git 的安装与原理_files/Image [50].png" type="image/png" data-filename="Image.png" width="670"/></div><div>            创建成功后的界面如下图:</div><div>            <img src="Git 的安装与原理_files/Image [51].png" type="image/png" data-filename="Image.png" width="787"/></div><div>        (3)把本地仓库push到远程仓库中:</div><div>            首先可以从上图中的蓝色框知道,把本地仓库push到远程仓库主要就是两句话, 它们的含义分别是:</div><div>                 添加一个远程仓库(这里远程仓库名是origin): </div><div>                    git remote add <span style="color: rgb(77, 206, 29);">origin</span> <a href="https://github.com/liguotao1/hello.git" style="color: rgb(77, 206, 29);">https://github.com/liguotao1/hello.git</a></div><div>                 将本地仓库推送到远程仓库origin:</div><div>                    (master是要推送到远程仓库的哪个分支,由于现在只有master分</div><div>                     支,所以就推送到master,如果还有其他分支也可以推送到其他分支): </div><div>                    git push -u <span style="color: rgb(77, 206, 29);">origin</span> <span style="color: rgb(77, 206, 29);">master</span></div><div>            <img src="Git 的安装与原理_files/Image [52].png" type="image/png" data-filename="Image.png" width="722"/></div><div>            <img src="Git 的安装与原理_files/Image [53].png" type="image/png" data-filename="Image.png" width="730"/></div><div>            此时刷新GitHub即可看到:</div><div>            <img src="Git 的安装与原理_files/Image [54].png" type="image/png" data-filename="Image.png" width="753"/></div><div>            在&quot;Code&quot;按钮处还可以找到该远程仓库的路径,如果还要往该仓库push内容的话则使用该路径即可:</div><div>            <img src="Git 的安装与原理_files/Image [55].png" type="image/png" data-filename="Image.png" width="458"/></div><div><br/></div><div><br/></div><div>    8.3 更新到本地</div><div>        举例:</div><div>        (1)可以直接在GitHub上在线编辑项目内容</div><div>        <img src="Git 的安装与原理_files/Image [56].png" type="image/png" data-filename="Image.png" width="704"/></div><div>        然后编辑完在底部进行提交(commit):</div><div>        <img src="Git 的安装与原理_files/Image [57].png" type="image/png" data-filename="Image.png" width="675"/></div><div>        提交后信息变为:</div><div>        <img src="Git 的安装与原理_files/Image [58].png" type="image/png" data-filename="Image.png" width="776"/></div><div>        接下来从远程仓库更新内容到本地仓库。使用命令: git pull <span style="color: rgb(77, 206, 29);">origin master</span>。(其中origin是远程仓库名,master是指更新内容选取的是远程仓库的master分支的内容。而本地仓库则是当前在哪个分支里,就更新到哪个分支里)</div><div>        <img src="Git 的安装与原理_files/Image [59].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>    8.4 克隆到本地。(也就是直接下载整个项目)</div><div>        git clone <a href="https://github.com/liguotao1/hello2.git" style="color: rgb(77, 206, 29);">https://github.com/liguotao1/hello2.git</a>    </div><div style="margin-left: 40px;">注意这个命令是当前git Bash在哪个文件夹, 就会下载到哪个文件夹。会将整个仓库下载下来作为一个文件夹存在。当然, 也可以不用Git命令, 直接在GitHub上通过&quot;Download ZIP&quot;来将整个项目下载下来。如下:</div><div>        <img src="Git 的安装与原理_files/Image [60].png" type="image/png" data-filename="Image.png" width="434"/></div><div><br/></div><div><br/></div><div><br/></div><div>9.TortoiseGit安装和使用</div><div>  1.下载</div><div>   <a href="https://tortoisegit.org/download/">https://tortoisegit.org/download/</a>  </div><div>  2.安装</div><div>    安装比较简单,直接全部使用安装时的默认设置 ,然后一直next即可。(安装目录最好自定义一下)</div><div>    下面这个界面也选择默认的即可</div><div>    <img src="Git 的安装与原理_files/Image [61].png" type="image/png" data-filename="Image.png" width="525"/></div><div>    <img src="Git 的安装与原理_files/Image [62].png" type="image/png" data-filename="Image.png" width="502"/></div><div>    安装成功后的右键菜单栏多了如下内容:</div><div>    <img src="Git 的安装与原理_files/Image [63].png" type="image/png" data-filename="Image.png" width="273"/></div><div>  3.使用</div><div>    如果要初始化一个本地仓库:</div><div>    很简单,在你想要创建本地仓库的目录, 右键-&gt;&quot;Git Create repository here&quot;。(翻译过来就是创建一个本地仓库, 也就是相当于&quot;git init&quot;命令)</div><div>    <img src="Git 的安装与原理_files/Image [64].png" type="image/png" data-filename="Image.png" width="736"/></div><div>     接下来就会出现如下界面,直接点击OK即可。</div><div>    <img src="Git 的安装与原理_files/Image [65].png" type="image/png" data-filename="Image.png" width="632"/></div><div>    完成后目录即为如下:(和以前一样)</div><div>    <img src="Git 的安装与原理_files/Image [66].png" type="image/png" data-filename="Image.png" width="660"/></div><div>    新建a.txt文件在工作区,在里面输入一些内容。然后选中a.txt文件,点击右键,即可见到tortoisegit的一些功能。选择&quot;add&quot;, 相当于git add 文件名,  也是添加文件从工作空间到暂存区(stage/index) (注意并没有直接添加到本地仓库, 而只是在暂存区) </div><div>    <img src="Git 的安装与原理_files/Image [67].png" type="image/png" data-filename="Image.png" width="614"/></div><div>    其实tortoisegit是由一些图标显示的, 在操作系统的任务管理器里找到&quot;Windows资源管理器&quot;进程,右键选择&quot;重新启动&quot;后,就会显示tortoisegit本地仓库的一些状态了:</div><div>    <img src="Git 的安装与原理_files/Image [68].png" type="image/png" data-filename="Image.png" width="737"/></div><div>    <img src="Git 的安装与原理_files/Image [69].png" type="image/png" data-filename="Image.png" width="826"/></div><div>    接下来提交到本地仓库:选中a.txt,右键(或者不选中a.txt直接右键也可以)-&gt; &quot;Git Commit -&gt; &quot;master&quot;&quot; -&gt;出现如下图 -&gt; 填写commit时的&quot;Message&quot; -&gt; 填写完后直接提交即可(也可以选择提交的同时push到远程仓库)</div><div>(其实前面也可以不add,直接commit,这样的话相当与先执行了git add命令,再执行了git commit命令 )</div><div>    <img src="Git 的安装与原理_files/Image [70].png" type="image/png" data-filename="Image.png" width="722"/></div><div>    然后可以发现a.txt也变成了绿色, 说明它(在工作区间)和本地仓库里的内容是一致的。</div><div>    <img src="Git 的安装与原理_files/Image [71].png" type="image/png" data-filename="Image.png" width="796"/></div><div>    在工作目录, 右键空白区域, 还可以发现tortoisegit其他非常多的功能如下。其实也就是用图像化界面代替了一行一行的代码, 使得使用起来更加简单了而已</div><div>    <img src="Git 的安装与原理_files/Image [72].png" type="image/png" data-filename="Image.png" width="732"/></div><div>    </div><div>10.Egit使用</div><div>  1.egit </div><div>    是一个插件,可以在ide中进行版本控制, 比如说我们在eclipse中有一个项目,使用egit我们就不需要用tortoisegit到该项目的本地路径中去进行版本控制, 而直接可以在eclipse中就可以做到。本地去做版本控制提交和更新。</div><div>  2.egit的安装和配置</div><div>    2.1 安装(在eclipse4.5以上版本,默认安装好了EGit)</div><div>    2.2 配置</div><div>      1)在eclipse导航栏: Window -&gt;Preferences -&gt; 搜索&quot;git&quot;--&gt;点击&quot;Configration&quot;。主要是读到.gitconfig配置文件, 一般是在&quot;C:\Users\用户名\&quot; 目录下, 而一般eclipse会自己读到这个文件。</div><div>    <img src="Git 的安装与原理_files/Image [73].png" type="image/png" data-filename="Image.png" width="581"/></div><div>      2)继续在Preferences里配置: General --&gt; Network connections --&gt; SSH2。 </div><div>    这里的ssh必须正确读取到系统的私钥, 这样才可以正确的远程连接。一般也会默认读到</div><div>    <img src="Git 的安装与原理_files/Image [74].png" type="image/png" data-filename="Image.png" width="555"/></div><div>      3)也可以更改一下远程仓库clone到本地时的默认路径</div><div>        <img src="Git 的安装与原理_files/Image [75].png" type="image/png" data-filename="Image.png" width="486"/></div><div>  3.创建本地仓库并提交代码</div><div>      选中一个项目,右键 -&gt; Team -&gt;Share Project 。就会出现&quot;Configure Git Repository&quot;界面如下:</div><div>            在这个界面勾选如下红框, 然后点击&quot;Create Repository&quot; , 就可以在如下绿框的目录下创建一个本地仓库, </div><div>            <img src="Git 的安装与原理_files/Image [76].png" type="image/png" data-filename="Image.png" width="747"/></div><div style="margin-left: 40px;">本地的目录变为如下。可以发现这样的好处是和.git目录同级的目录都变成了工作目录, 这样项目中的目录里的内容只要提交后,都能被监控到。</div><div>            <img src="Git 的安装与原理_files/Image [77].png" type="image/png" data-filename="Image.png" width="775"/></div><div style="margin-left: 40px;">并且创建好本地仓库后项目的图标发生变化, 项目名的图标多了一个仓库的小标志, 而包和源代码文件则多了一个问号的小图标。问号是表示当前的内容还没有被监听到, 因为我们还没有添加(add)到暂存区,也没有提交(commit)过。</div><div>                <img src="Git 的安装与原理_files/Image [78].png" type="image/png" data-filename="Image.png"/></div><div>        要add的话可以选择一个源代码文件add,也可以选择一个package来add,甚至可以选择直接将整个src目录add。想add哪种就直接选中哪种 然后右键-&gt;Team-&gt;&quot;Add to Index&quot;。如果是add一个package,效果如下图: package day11 add后,项目名、src、day11、以及day11下面的源代码文件的图标都发生了变化。这些新图标的出现就表示git能监听到这些文件了,而且表示本地仓库与工作区的内容不一致。其他包的图标保持原样不变(表示其他包还是没有被监听到)</div><div>    <img src="Git 的安装与原理_files/Image [79].png" type="image/png" data-filename="Image.png" width="393"/></div><div><br/></div><div style="margin-left: 40px;">和其他地方一样,在egit里能先add再commit,也能不add直接commit。</div><div style="margin-left: 40px;">不add直接commit的方法是选中某个要commit的文件或目录,然后直接右键-&gt;Team-&gt;&quot;Commit&quot;。然后会出现如下界面, 把需要commit的文件直接右键add一下就行,然后就可以commit了。(当然如果一次性要提交整个目录的话还是建议先add再commit,就不要直接commit了,不然一个一个文件右键add, 会很累)</div><div>        <img src="Git 的安装与原理_files/Image [80].png" type="image/png" data-filename="Image.png" width="564"/></div><div>        如果要push到远程仓库的话, 可以选中文件或目录 -&gt;Team -&gt;Repository -&gt;Push Branch 'master'。然后就会看到如下界面,依次按如下三张图选好即可。</div><div>        <img src="Git 的安装与原理_files/Image [81].png" type="image/png" data-filename="Image.png" width="487"/></div><div>        <img src="Git 的安装与原理_files/Image [82].png" type="image/png" data-filename="Image.png" width="486"/></div><div>        <img src="Git 的安装与原理_files/Image [83].png" type="image/png" data-filename="Image.png" width="488"/></div><div>        </div><div style="margin-left: 40px;">pull操作有可能会出现问题(在我当前版本<span style="min-height: 12pt; font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Microsoft YaHei UI&quot;;">4.7.3a</span>不会出现问题),是因为.git目录下的config文件没有配置好,而我这个版本会自动配置好。如果出现问题可在文末的git.docx文档里找到方法,也就是在config配置文件里添加几行代码。</div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;">clone:</div><div style="margin-left: 40px;">    在eclipse导航栏: Window -&gt;Show View-&gt;Other-&gt; 搜索&quot;git&quot;--&gt;选择&quot;Git Repositories&quot;,然后就会出现如下窗口, 依次填入对应信息即可从远程克隆一个仓库到本地。</div><div style="margin-left: 40px;">    如果还想将其作为eclipse的项目, 则在&quot;Project Explorer&quot;窗口右键 -&gt;import -&gt;找到&quot;Git&quot;目录-&gt;Projects from Git -&gt;Existing local repository -&gt; 选择已经克隆到本地的仓库即可。</div><div style="margin-left: 40px;">    如果想直接克隆并导入到eclipse中, 也可以通过:在&quot;Project Explorer&quot;窗口右键 -&gt;import -&gt;找到&quot;Git&quot;目录-&gt;Projects from Git -&gt;Clone URI -&gt; 然后填入相应信息从一个远程仓库克隆下来即可。</div><div>            <img src="Git 的安装与原理_files/Image [84].png" type="image/png" data-filename="Image.png" width="781"/></div><div>            </div><div>        <span style="font-size: unset; color: unset; font-family: unset;">Synchronize Workspace: (同步工作空间)</span></div><div style="margin-left: 40px;"><span style="font-size: unset; color: unset; font-family: unset;">    选中已经push到远程的目录,右键-&gt;Team-&gt;Synchronize Workspace。即可打开git的同步工作空间视图。这个视图的是为了更好的掌握本地仓库和远程仓库的差异, 以便于确认自己是该push还是pull。</span></div><div style="margin-left: 40px;">    Incoming Mode页面显示的是远程仓库有更新的内容,如果远程仓库相较于本地仓库没有更新任何内容, 则该页面没有东西。</div><div style="margin-left: 40px;">    Outgoing Mode页面显示的是本地仓库有更新的内容,如果本地仓库相较于远程仓库没有更新任何内容, 则该页面没有东西。</div><div style="margin-left: 40px;">    <span style="font-size: unset; color: unset; font-family: unset;">Synchronize Workspace有pull和push,如果发现了任何本地和远程仓库的差异可以直接pull或push。</span></div><div style="margin-left: 40px;">    此外还有Incoming/Outgoing Mode 页面, 意思是把远程和本地的更新显示在同一个界面里, 还有Conflicts Mode页面, 也就是将所有的冲突显示在该页面,更加利于处理冲突。</div><div>        <img src="Git 的安装与原理_files/Image [85].png" type="image/png" data-filename="Image.png" style="color: unset; font-family: unset; font-size: unset;" width="787"/></div><div><span style="font-size: unset; color: unset; font-family: unset;">            </span></div><div><br/></div><div><br/></div><div><b>上传附件：视频课使用到的git的文档：</b></div><div><a href="Git 的安装与原理_files/git.docx"><img src="Git 的安装与原理_files/57524d364e9efb0ab482480145d0e24b.png" alt="git.docx"></a></div><div><br/></div></span>
</div></body></html> 