<html>
<head>
  <title>hive内置函数大全</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/603932 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="6335"/>
<h1>hive内置函数大全</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2020/8/20 10:14</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2020/8/24 17:33</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>一、关系运算：</div><div>    1. 等值比较: =</div><div>    2. 等值比较:&lt;=&gt;</div><div>    3. 不等值比较: &lt;&gt;和!=</div><div>    4. 小于比较: &lt;</div><div>    5. 小于等于比较: &lt;=</div><div>    6. 大于比较: &gt;</div><div>    7. 大于等于比较: &gt;=</div><div>    8. 区间比较</div><div>    9. 空值判断: IS NULL</div><div>    10. 非空判断: IS NOT NULL</div><div>    10. LIKE比较: LIKE</div><div>    11. JAVA的LIKE操作: RLIKE</div><div>    12. REGEXP操作: REGEXP</div><div>二、数学运算：</div><div>    1. 加法操作: +</div><div>    2. 减法操作: –</div><div>    3. 乘法操作: *</div><div>    4. 除法操作: /</div><div>    5. 取余操作: %</div><div>    6. 位与操作: &amp;</div><div>    7. 位或操作: |</div><div>    8. 位异或操作: ^</div><div>    9．位取反操作: ~</div><div>三、逻辑运算：  </div><div>    1. 逻辑与操作: AND 、&amp;&amp;</div><div>    2. 逻辑或操作: OR 、||</div><div>    3. 逻辑非操作: NOT、!</div><div>四、复合类型构造函数    </div><div>    1. map结构</div><div>    2. struct结构</div><div>    3. named_struct结构</div><div>    4. array结构</div><div>    5. create_union</div><div>五、复合类型操作符</div><div>    1. 获取array中的元素</div><div>    2. 获取map中的元素</div><div>    3. 获取struct中的元素</div><div>六、数值计算函数  </div><div>    1. 取整函数: round(默认向下取整)</div><div>    2. 指定精度取整函数: round</div><div>    3. 向下取整函数: floor</div><div>    4. 向上取整函数: ceil</div><div>    5. 向上取整函数: ceiling</div><div>    6. 取随机数函数: rand</div><div>    7. 自然指数函数: exp</div><div>    8. 以10为底对数函数: log10</div><div>    9. 以2为底对数函数: log2</div><div>    10. 对数函数: log</div><div>    11. 幂运算函数: pow</div><div>    12. 幂运算函数: power</div><div>    13. 开平方函数: sqrt</div><div>    14. 二进制函数: bin</div><div>    15. 十六进制函数: hex</div><div>    16. 反转十六进制函数: unhex</div><div>    17. 进制转换函数: conv</div><div>    18. 绝对值函数: abs</div><div>    19. 正取余函数: pmod</div><div>    20. 正弦函数: sin</div><div>    21. 反正弦函数: asin</div><div>    22. 余弦函数: cos</div><div>    23. 反余弦函数: acos</div><div>    24. positive函数: positive</div><div>    25. negative函数: negative</div><div>七、集合操作函数    </div><div>    1. map类型大小：size</div><div>    2. array类型大小：size</div><div>    3. 判断元素数组是否包含元素：array_contains</div><div>    4. 获取map中所有value集合</div><div>    5. 获取map中所有key集合</div><div>    6. 数组排序</div><div>八、类型转换函数</div><div>    1. 二进制转换：binary</div><div>    2. 基础类型之间强制转换：cast</div><div>九、日期函数   </div><div>    1. UNIX时间戳转日期函数: from_unixtime</div><div>    2. 获取当前UNIX时间戳函数: unix_timestamp</div><div>    3. 日期转UNIX时间戳函数: unix_timestamp</div><div>    4. 指定格式日期转UNIX时间戳函数: unix_timestamp</div><div>    5. 日期时间转日期函数: to_date</div><div>    6. 日期转年函数: year</div><div>    7. 日期转月函数: month</div><div>    8. 日期转天函数: day</div><div>    9. 日期转小时函数: hour</div><div>    10. 日期转分钟函数: minute</div><div>    11. 日期转秒函数: second</div><div>    12. 日期转周函数: weekofyear</div><div>    13. 日期比较函数: datediff</div><div>    14. 日期增加函数: date_add</div><div>    15. 日期减少函数: date_sub</div><div>十、条件函数   </div><div>    1. If函数: if   ( if(a,b,c) 等价于 a?b:c )</div><div>    2. 非空查找函数: COALESCE    (返回第一个不为空的值,如COALESCE(a,b,c,d,e),如果a不为空则返回a,如果a为空则依次向后寻找不为空的值)</div><div>    3. 条件判断函数：CASE</div><div>    4. 条件判断函数：CASE</div><div>十一、字符串函数  </div><div>    1.    字符ascii码函数：ascii</div><div>    2.    base64字符串</div><div>    3. 字符串连接函数：concat</div><div>    4.    带分隔符字符串连接函数：concat_ws</div><div>    5. 数组转换成字符串的函数：concat_ws</div><div>    6. 小数位格式化成字符串函数：format_number</div><div>    7. 字符串截取函数：substr,substring</div><div>    8. 字符串截取函数：substr,substring</div><div>    9. 字符串查找函数：instr</div><div>    10. 字符串长度函数：length</div><div>    11. 字符串查找函数：locate</div><div>    12. 字符串格式化函数：printf</div><div>    13. 字符串转换成map函数：str_to_map</div><div>    14. base64解码函数：unbase64(string str)</div><div>    15. 字符串转大写函数：upper,ucase</div><div>    16. 字符串转小写函数：lower,lcase</div><div>    17. 去空格函数：trim</div><div>    18. 左边去空格函数：ltrim</div><div>    19. 右边去空格函数：rtrim</div><div>    20. 正则表达式替换函数：regexp_replace</div><div>    21. 正则表达式解析函数：regexp_extract</div><div>    22. URL解析函数：parse_url</div><div>    23. json解析函数：get_json_object</div><div>    24. 空格字符串函数：space</div><div>    25. 重复字符串函数：repeat</div><div>    26. 左补足函数：lpad</div><div>    27. 右补足函数：rpad</div><div>    28. 分割字符串函数: split</div><div>    29. 集合查找函数: find_in_set</div><div>    30.    分词函数：sentences</div><div>    31. 分词后统计一起出现频次最高的TOP-K</div><div>    32. 分词后统计与指定单词一起出现频次最高的TOP-K</div><div>十二、混合函数  </div><div>    1. 调用Java函数：java_method</div><div>    2. 调用Java函数：reflect</div><div>    3. 字符串的hash值：hash</div><div>十三、XPath解析XML函数   </div><div>    1. xpath</div><div>    2. xpath_string</div><div>    3. xpath_boolean</div><div>    4. xpath_short, xpath_int, xpath_long</div><div>    5. xpath_float, xpath_double, xpath_number</div><div>十四、汇总统计函数（UDAF）</div><div>    1. 个数统计函数: count</div><div>    2. 总和统计函数: sum</div><div>    3. 平均值统计函数: avg</div><div>    4. 最小值统计函数: min</div><div>    5. 最大值统计函数: max</div><div>    6. 非空集合总体变量函数: var_pop</div><div>    7. 非空集合样本变量函数: var_samp</div><div>    8. 总体标准偏离函数: stddev_pop</div><div>    9. 样本标准偏离函数: stddev_samp</div><div>    10．中位数函数: percentile</div><div>    11. 中位数函数: percentile</div><div>    12. 近似中位数函数: percentile_approx</div><div>    13. 近似中位数函数: percentile_approx</div><div>    14. 直方图: histogram_numeric</div><div>    15. 集合去重数：collect_set     （会去重）</div><div>    16. 集合不去重函数：collect_list    （不去重）</div><div>十五、表格生成函数Table-Generating Functions (UDTF)  </div><div>    1. 数组拆分成多行：explode (和聚合函数相反,是一种裂变函数。聚合函数是多行结果变成一行,裂变函数一行变成多行)</div><div>    2. Map拆分成多行：explode (和聚合函数相反,是一种裂变函数。聚合函数是多行结果变成一行,裂变函数一行变成多行)</div><div><br/></div></span>
</div></body></html> 